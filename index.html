<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Slides - Fin de module ASP.NET</title>

		<meta name="description" content="A (probably orring) school presentation">
		<meta name="author" content="Caligone">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/solarized.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="css/custom.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>
		<script src="http://localhost:35729/livereload.js"></script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

		<style>
			.positive {
				color: #27ae60;
			}
			.negative {
				color: #e74c3c;
			}
			.neutral {
				color: #f39c12;
			}
			.reveal pre code {
				font-size: 12px;
			}
		</style>
	</head>

	<body>

		<div class="reveal">

			<div class="slides">
				<section id="first">
					<h1>ASP.NET</h1>
					<h2>Soutenance de fin de module</h2>
					<p>
						<small>Par <a href="#">Baptiste Bouchereau</a> / <a href="#">Damien Cartet</a> / <a href="http://twitter.com/Calig0ne">Pierre-Jean Léger</a> / <a href="#">Jeremy Longin</a> le <a href="#" id="currentDate">01/01/2000</a></small>
					</p>
				</section>

				<section id="table-of-content">
					<h2>Sommaire</h2>
					
					<ol>
						<li><a href="#needs">Besoins</a></li>
						<li><a href="#architecture">Architecture</a></li>
						<li><a href="#technical-stories">Histoires techniques</a></li>
						<li><a href="#achievement-example">Exemple de réalisation</a></li>
						<li><a href="#project-management">Gestion de projet</a></li>
						<li><a href="#personnal-conclusion">Bilan personnel</a></li>
						<li><a href="#conclusion">Conclusion</a></li>
					</ol>
				</section>

				<!-- Besoins -->
				<section id="needs">
					<section id="needs-1">
						<h1>Besoins</h1>
					</section>
					<section id="needs-2">
						<h3>Besoins</h3>
						<p>
							Réaliser une application de type Trip Advisor permettant de consulter, noter et réserver des hotels.<br/>
						</p>
						<ul>
							<li>24 user stories</li>
							<li>Intégration dans un environnement Microsoft</li>
							<li>Développer un projet selon la méthode SCRUM</li>
						</ul>
					</section>
					<section id="needs-3">
						<h3>Besoins</h3>
						<h2>Gestion des utilisateurs</h2>
						<ul>
							<li>Création et modification d'un compte utilisateur selon deux types</li>
							<ul>
								<li>Hotelier</li>
								<li>Abonné</li>
							</ul>
							<li>Gérer également le statut de visiteur non enregistrer</li>
						</ul>
					</section>
					<section id="needs-4">
						<h3>Besoins</h3>
						<h2>Fonctionnalités des utilisateurs (1)</h2>
						<ul>
							<li>Un utilisateur de type Hotelier peut</li>
							<ul>
								<li>Créer un Hotel, le modifier, le supprimer</li>
								<li>Consulter les avis déposés sur son hotel</li>
								<li>Ajouter des photos de mon hôtel</li>
								<li>Proposer des hotels similaires au mien lorsqu'il est complet</li>
							</ul>
						</ul>
					</section>
					<section id="needs-4">
						<h3>Besoins</h3>
						<h2>Fonctionnalités des utilisateurs (2)</h2>
						<ul>
							<li>Un utilisateur de type abonné peut</li>
							<ul>
								<li>Déposer un avis</li>
								<li>Consulter un avis sur un hôtel</li>
								<li>Indiquer qu'un avis m'a été utile</li>
								<li>Réserver un hôtel</li>
								<li>Consulter les photos d'un hôtel</li>
								<li>Conserver un hôtel dans mes favoris</li>
								<li>Supprimer un hôtel de mes favoris</li>
							</ul>
						</ul>
					</section>
				</section>

				<!-- Architecture -->
				<section id="architecture">
					<section id="architecture-1">
						<h1>Architecture</h1>
					</section>
					<section id="architecture-2">
						<h3>Architecture</h3>
						<h2>
							API REST + Client WebForm
						</h2>
						<ul>
							<li>Peu d'experience avec cette architecture</li>
							<li>Correspond au contexte actuel</li>
							<li>Maintenable</li>
							<li>Parallélisable</li>
							<li>Scalable</li>
							<li><em>(.*)able</em></li>
						</ul>
					</section>
					<section id="architecture-3">
						<h3>Architecture</h3>
						<img src="img/archi-api.png" alt="Sechéma Architecture API">
					</section>
					<section id="architecture-4">
						<h3>Architecture</h3>
						<h2>
							Client WebForm
						</h2>
						<ul>
							<li>Embarque la logique métier</li>
							<li>Interface avec l'utilisateur</li>
						</ul>
					</section>
					<section id="architecture-5">
						<h3>Architecture</h3>
						<h2>
							API - Entity Framework
						</h2>
						<ul>
							<li><span class="positive">(+)</span> Marge de progression importante</li>
							<li><span class="neutral">(+/-)</span> Génération de code</li>
							<li><span class="negative">(-)</span> Configuration complexe</li>
						</ul>
					</section>
					<section id="architecture-6">
						<h3>Architecture</h3>
						<h2>
							Application MVC
						</h2>
						<ul>
							<li><span class="negative">(-)</span> Marge de progression moins importante</li>
							<li><span class="neutral">(+/-)</span> Plus commun</li>
							<li><span class="positive">(+)</span> Plus simple à mettre en place</li>
						</ul>
					</section>
					<section id="architecture-7">
						<h3>Architecture</h3>
						<img src="img/archi-mvc.png" alt="Sechéma Architecture MVC">
					</section>
				</section>

				<!-- Histoire technique -->
				<section id="technical-stories">
					<section id="technical-stories-1">
						<h1>Histoires techniques</h1>
					</section>
					<section id="technical-stories-2">
						<h3>Histoires techniques</h3>
						<h2>Utilisations de plusieurs technologies</h2>
						<p>
							<ul>
								<li>MVC2</li>
								<li>JQuery / Ajax</li>
							</ul>
						</p>
					</section>
					<section id="technical-stories-4">
						<h3>Histoires techniques</h3>
						<h2>Tests</h2>
						<p>
							<ul>
								<li class="wrong">Tests UI</li>
								<li>Tests unitaires</li>
							</ul>
						</p>
						<aside class="notes">
							<p>Ajouter des notes ici</p>
						</aside>
					</section>
					<section id="technical-stories-5">
						<h3>Histoires techniques</h3>
						<h2>Versionning</h2>
						<p>
							<img src="img/git.png" width=100 height=100 alt="logo git">
							<img src="img/visualstudio.png" width=100 height=100 alt="logo git">
							<ul>
								<li><em>Git</em></li>
								<li>TFS</li>
							</ul>
						</p>
					</section>
					<section id="technical-stories-5">
						<h3>Histoires techniques</h3>
						<h2>Autres..</h2>
						<p>
							<ul>
								<li>Mots des passes cryptés en SHA512</li>
								<li>Utilisation du script fourni</li>
								<li>Procédure stockée</li>
								<li>Vues SQL</li>
								<li><em>Patrons de conception</em></li>
								<li class="wrong">Dossier de recette</li>
							</ul>
						</p>
					</section>
				</section>

				<!-- Exemple de réalisation -->
				<section id="achievement-example">
					<section id="achievement-example-1">
						<h1>Exemple de réalisation</h1>
					</section>
					<section id="achievement-example-2">
						<h3>Exemple de réalisation</h3>
						<h2>Ajout d'un hôtelier</h2>
						<p>
							Pour que l'utilisateur puisse ajouter un hôtelier, il faut que notre application possède une classe hôtelier, une classe service qui permette d'utiliser et de manipuler cette objet hôtelier, une classe qui permette de faire le lien entre la vue et le service hôtelier et enfin une vue qui sera afficher à l'utilisateur.
						</p>
					</section>
					<section id="achievement-example-3">
						<h3>Exemple de réalisation</h3>
						<h2>Classe de l'hôtelier</h2>
						<p>
							Cette classe représente l'objet hôtelier, elle contient les mêmes attribues que la table Hôtelier.
						</p>
						<table>
							<tr>
								<td>
									<pre style="width:550px;"><code>
public class Hotelier
{
	public int Id { get; set; }
	[Required]
	[DisplayName( "Nom *" )]
	public string Nom { get; set; }
	[Required]
	[DisplayName("Prénom *")]
	public string Prenom { get; set; }
	[Required]
	[MinLength(6)]
	[DataType(DataType.Password)]
	[DisplayName("Mot de passe *")]
	public string MotPasse { get; set; }
	[Required]
	[EmailAddress]
	[DisplayName("Adresse email *")]
	public string Mail { get; set; }
	[Required]
	[DisplayName("Adresse ligne 1 *")]
	public string AdrLigne1 { get; set; }
	[DisplayName("Adresse ligne 2")]
	public string AdrLigne2 { get; set; }
	[Required]
	[DisplayName("Code postal *")]
	public string CP { get; set; }
	[Required]
	[DisplayName("Ville *")]
	public string Ville { get; set; }
	public string Etat { get; set; }
	[Required]
	[DisplayName("Pays *")]
	public int PAY_ID { get; set; }

	public static string HashPassword(string content)
	{
		if (content == null)
		{
			return null;
		}

		HashAlgorithm hash = new SHA512CryptoServiceProvider();
		UnicodeEncoding encoding = new UnicodeEncoding();
		Byte[] bytesContent = Encoding.UTF8.GetBytes(content);
		Byte[] bytesResult = hash.ComputeHash(bytesContent);

		StringBuilder result = new StringBuilder(bytesResult.Length * 2);

		for (int i = 0; i < bytesResult.Length; i++) {
			result.Append(bytesResult[i].ToString("x2"));
		}

		return result.ToString();
	}
}
									</code></pre>
								</td>
								<td>
									<pre style="width: 250px"><code>
SELECT TOP 1000 [HTR_ID]
	  ,[HTR_MEL]
	  ,[HTR_MOTPASSE]
	  ,[HTR_NOM]
	  ,[HTR_PRENOM]
	  ,[HTR_ADRLIGNE1]
	  ,[HTR_ADRLIGNE2]
	  ,[HTR_CP]
	  ,[HTR_VILLE]
	  ,[HTR_ETAT]
	  ,[PAY_ID]
 FROM [Hotel].[dbo].[T_E_HOTELIER_HTR]
									</code></pre>
								</td>
							</tr>
						</table>
						
					</section>
					<section id="achievement-example-4">
						<h3>Exemple de réalisation</h3>
						<h2>Service Hotelier</h2>
						<p>
							Le service Hotlier permet de manipuler le modèle hôtelier, il permet:
						</p>
						<ul>
							<li>
								de créer un hotleier
							</li>
							<li>
								de l'editer
							</li>
							<li>
								d'afficher un ou tous les hoteliers
							</li>	

							<pre><code>
public int Create(Hotelier hotelier)
{
	try
	{
		DataAccess da = new DataAccess();
		int id = da.InsertHotelier(
			hotelier.Nom,
			hotelier.Prenom,
			Hotelier.HashPassword(hotelier.MotPasse),
			hotelier.Mail,
			hotelier.AdrLigne1,
			hotelier.AdrLigne2,
			hotelier.CP,
			hotelier.Ville,
			hotelier.Etat,
			hotelier.PAY_ID
		);

		return id;
	}
	catch
	{
		return -1;
	}
}
							</code></pre>										
					</section>
					<section id="achievement-example-5">
						<h3>Exemple de réalisation</h3>
						<h2>Contrôleur hôtelier</h2>
						<p>
							Le controlleur permet de faire le lien entre la vue et le modèle.
						</p>
						<table>
							<tr>
								<td>
									<pre><code>
public int Create(Hotelier hotelier)
{
	try
	{
		DataAccess da = new DataAccess();
		int id = da.InsertHotelier(
			hotelier.Nom,
			hotelier.Prenom,
			Hotelier.HashPassword(hotelier.MotPasse),
			hotelier.Mail,
			hotelier.AdrLigne1,
			hotelier.AdrLigne2,
			hotelier.CP,
			hotelier.Ville,
			hotelier.Etat,
			hotelier.PAY_ID
		);

		return id;
	}
	catch
	{
		return -1;
	}
}
									</code></pre>
								</td>
								<td>
									<pre><code>
public ActionResult Create(Hotelier post)
	{
		if (!ModelState.IsValid)
		{
			return View();
		}
		HotelierService hotelierService = new HotelierService();
		Hotelier hotelier = new Hotelier();
		// remplit l'objet hotelier à partir du formulaire (post)
		UpdateModel(hotelier);
		if (hotelierService.Create(hotelier) != -1) // si la création dans la base a fonctionné
		{
			return Redirect("/");
		}
		else
		{

			// Recuperation de la liste des pays
			PaysService paysServ = new PaysService();
			List<Pays> listePays = new List<Pays> { };
			listePays = paysServ.ReadAll();
			//La propriété Pays du ViewBag contient la liste
			ViewBag.Pays = listePays;

			// Recuperation de la liste des categories d'hotels
			IndicatifService indicatifServ = new IndicatifService();
			List<Indicatif> listeIndicatif = new List<Indicatif> { };
			listeIndicatif = indicatifServ.ReadAll();
			//La propriété Pays du ViewBag contient la liste
			ViewBag.Indicatifs = listeIndicatif;
			// sinon, on retourne la vue avec un message d'erreur
			ViewData["ErrorMessage"] = "Impossible d'insérer l'hotelier.";
			return View();
		}
	}
									</code></pre>
								</td>
							</tr>
						</table>
					</section>
					<section id="achievement-example-6">
						<h3>Exemple de réalisation</h3>
						<h2>La vue</h2>
							<img src="img/formulaireHotelier.jpg">
					</section>
				</section>

				<!-- Gestion de projet -->
				<section id="project-management">
					<section id="project-management-1">
						<h1>Gestion de projet</h1>
					</section>
					<section id="project-management-2">
						<h3>Gestion de projet</h3>
						<h2>Résumé des sprints</h2>
						<p>
							<b>Sprint 1</b> : 0 histoire à faire valider
						</p>
						<p>
							<b>Sprint 2</b> :  8 histoires présentées, 3 en cours, 6 validées
						</p>
					</section>
					<section id="project-management-3">
						<h3>Gestion de projet</h3>
						<h2>Scrum</h2>
						<ul>
							<li><span class="positive">(+)</span> Rapide à mettre en place (histoires et prioritées fournies)</li>
							<li><span class="neutral">(+/-)</span> Ajout de tâches <em>non-histoires</em> (des bugs ou mémo)</li>
							<li><span class="positive">(+)</span> Utilisation de Trello simple et efficace (Kanban déjà utilisé pour nos projets personnels)</li>
						</ul>
					</section>
				</section>

				<!-- Conclusion personnel -->
				<section id="personnal-conclusion">
					<section id="personnal-conclusion-1">
						<h1>Bilan personnel</h1>
					</section>
					<section id="personnal-conclusion-2">
						<h3>Bilan personnel</h3>
						<h2>Baptiste Bouchereau</h2>
					</section>
					<section id="personnal-conclusion-3">
						<h3>Bilan personnel</h3>
						<h2>Damien Cartet</h2>
						<p></p>
						<ul>
							<li>
								Un sujet interressant.
							</li>
							<li>
								Mise en application de la méthode SCRUM.
							</li>
							<li>
								Les outils de travail n'étaient pas adaptés.
							</li>
						</ul>
					</section>
					<section id="personnal-conclusion-3">
						<h3>Bilan personnel</h3>
						<h2>Pierre-Jean Leger</h2>
					</section>
					<section id="personnal-conclusion-4">
						<h3>Bilan personnel</h3>
						<h2>Jeremy Longin</h2>
					</section>
				</section>

				<!-- Conclusion -->
				<section id="conclusion">
					<section id="conclusion-1">
						<h1>Conclusion</h1>
					</section>
					<section id="conclusion-2">
						<h3>Conclusion</h3>
						<h2>Problèmes rencontrés</h2>
						<table>
							<tr>
								<th>Problème</th>
								<th>Raison</th>
								<th>Solution</th>
							</tr>
							<tr>
								<td>Impossible d'utiliser Entity Framework</td>
								<td>Utilisation d'un dual-boot plutôt que la VM</td>
								<td>Installation identique à la VM</td>
							</tr>
							<tr>
								<td>Remplissage des ViewBags</td>
								<td>Oubli de certains cas</td>
								<td>Factorisation du code</td>
							</tr>
							<tr>
								<td>Manque de temps</td>
								<td>Difficultés sur l'API REST</td>
								<td>Pivoter sur une autre architecture</td>
							</tr>
						</table>
					</section>
					<section id="conclusion-3">
						<h3>Conclusion</h3>
						<h2>Conclusion du projet</h2>
						<ul>
							<li><span class="negative">(-)</span> Frustrant car trop peu de temps pour prendre en main la technologie</li>
						</ul>
					</section>
					<section id="conclusion-4">
						<h3>Conclusion</h3>
						<h2>Conclusion du module</h2>
						<ul>
							<li><span class="negative">(-)</span> TPs un peu trop assistés</li>
							<li><span class="positive">(+)</span> Sujets intéressants (cas réels)</li>
							<li><span class="positive">(+)</span> 1er approche projet Scrum</li>
						</ul>
					</section>
				</section>

				

				<section id="end">
					<h2>Merci de votre attention</h2>
					<h4>Avez-vous des questions ?</h4>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

			// Current date
			var currentDate = new Date();
			document.getElementById('currentDate').text = ("0" + currentDate.getDate()).slice(-2) + '/' + ("0" + (currentDate.getMonth() + 1)).slice(-2) + '/' + currentDate.getFullYear();		

		</script>
		<script src="//192.168.1.16:35729/livereload.js"></script>
	</body>
</html>
